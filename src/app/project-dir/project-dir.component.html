<app-side-nav> </app-side-nav>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ 'Document Title' | translate }}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <div class="main-container">
        <div class="header">
            <p style="color:#ffffff; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; font-weight: 600;">
                {{ 'Project Directory' | translate}}</p>
            <!-- <select #languageSelect (change)="switchLanguage(languageSelect.value)">
                <option *ngFor="let lang of languages" [value]="lang.code">{{ lang.name | translate }}</option>
            </select> -->
            <select #languageSelect (change)="switchLanguage(languageSelect.value)">
                <option value="en">English</option>
                <option value="hn">Hindi</option>
                <option value="mr">Marathi</option>
              </select>
              
              <!-- <div *ngIf="translations">
                <div *ngFor="let translation of translations">
                  <div>{{ translation.key }}</div>
                  <div>{{ translation[selectedLanguage] }}</div>
                </div>
              </div> -->
              
            <div class="search-bar">
                <input type="text" placeholder="{{ 'Search Project' | translate }}" class="search-bar-input" [(ngModel)]="searchText">
                <div class="search-bar-icon"><i class="fa-sharp fa-solid fa-magnifying-glass"></i></div>
            </div>
        </div>
    </div>
    <div class="add-project" (click)="openform()"><i class="fa-solid fa-plus"></i> {{translations.create_project}}</div>
    <form id="myform" #projectForm="ngForm" [formGroup]="projectform">
        <header>{{ 'Project Details' | translate }}</header>
        <label for="pname">{{ 'Project Title' | translate }}:</label>
        <input type="text" [(ngModel)]="pname" name="pname" placeholder="{{ 'Enter the title' | translate }}" formControlName="pname">
        <br>
        <div *ngIf="projectform.controls.pname.invalid && projectform.controls.pname.touched"
            style="color: red;">{{ 'Name is required' | translate }}</div>
        <label for="pdescription">{{ 'Description' | translate }}:</label>
        <textarea style="width:max-content;" name="pdescription" id="" cols="67" rows="5" [(ngModel)]="pdescription" formControlName="pdescription" placeholder="{{ 'Enter the Description' | translate }}"></textarea>
        <br>
        <div style="display: inline-block; columns: 2; column-gap: 100px;">
            <label for="pstartDate">{{ 'Start Date' | translate }}:</label>
            <input type="date" [(ngModel)]="pstartDate" name="pstartDate" formControlName="pstartDate">
            <br>
            <div *ngIf="projectform.controls.pstartDate.invalid && projectform.controls.pstartDate.touched"
                style="color: red;">{{ 'start is required' | translate }}</div>
            <label for="pendDate">{{ 'End Date' | translate }}:</label>
            <input type="date" [(ngModel)]="pendDate" name="pendDate" formControlName="pendDate">
        </div>
        <br>
        <div class="dropdown">
            <button class="dropbtn">{{ 'Select Users' | translate }}</button>
            <div class="dropdown-content">
                <a *ngFor="let option of unameArray" (click)="addItemToAccordion(option)">{{ option }}</a>
            </div>
        </div>

        <div class="accordion">
            <br>
            <h4 class="sel" id="select"
                style="font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; font-weight: lighter;">
                {{ 'Select Users' | translate }} :</h4>
            <div class="accordion-item" *ngFor="let item of accordionItems">
                <div class="accordion-header">
                    <p style="font-size:15px; margin-bottom: 12px;">{{ item }}</p>
                </div>
            </div>
        </div>

        <button [disabled]="!projectform.valid" class="btn" style="background-color: var(--primary-color)" (click)="saveProjectFormData(projectForm.value)">{{ 'Add' | translate }}</button>
        <button style="background-color: var(--secondary-color);" class="close" (click)="close()">{{ 'Close' | translate }}</button>

    </form>
    <div class="flex-container">
        <app-project-card [projectArr]="projectArr" [searchText]="searchText" (testEvent)="retrieveProjects()"></app-project-card>
    </div>
</body>

</html>
